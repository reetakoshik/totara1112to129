YUI.add("moodle-availability_hierarchy_position-form",function(e,t){M.availability_hierarchy_position=M.availability_hierarchy_position||{},M.availability_hierarchy_position.form=e.Object(M.core_availability.plugin),M.availability_hierarchy_position.form.initInner=function(e){this.conditionConfig=e},M.availability_hierarchy_position.form.generateIndex=function(){var e=0;return function(){return e++}}(),M.availability_hierarchy_position.form.getNode=function(t){var n=M.availability_hierarchy_position.form.generateIndex(),r="pos["+n+"]",i="posid["+n+"]",s=t.position===undefined?0:t.position,o='<label class="form-group" for="avail-position"><span class="p-r-1">'+M.util.get_string("title","availability_hierarchy_position")+"</span> ";o+='<span class="availability-group">',o+="</label>",o+='<select id="avail-position" name="'+r+'">',s>0&&typeof this.conditionConfig!="undefined"&&(o+="<option value="+s+">"+this.conditionConfig.positionNames[s].fullname+"</option>"),o+="</select>",o+='<input type="hidden" name="'+i+'" value="'+s+'" />',o+="</span>";var u=e.Node.create('<span class="form-inline">'+o+"</span>");return require(["core/form-autocomplete","jquery"],function(e,t){var n='[name="'+r+'"]',s='[name="'+i+'"]';e.enhance(n,!1,"availability_hierarchy_position/ajax_handler",M.util.get_string("searchpositions","availability_hierarchy_position")),t(n).on("change",function(e){t(s).val(t(n).val()),M.core_availability.form.update()})}),u},M.availability_hierarchy_position.form.fillValue=function(e,t){e.position=t.one("[name^=posid]").getAttribute("value")},M.availability_hierarchy_position.form.fillErrors=function(e,t){var n={};this.fillValue(n,t),n.position.trim()==="0"&&e.push("availability_hierarchy_position:error_selectfield")}},"@VERSION@",{requires:["base","node","event","moodle-core_availability-form"]});
