define(["jquery"],function(a){String.prototype.repeat||(String.prototype.repeat=function(a){"use strict";if(null==this)throw new TypeError("can't convert "+this+" to object");var b=""+this;if(a=+a,a!=a&&(a=0),a<0)throw new RangeError("repeat count must be non-negative");if(a==1/0)throw new RangeError("repeat count must be less than infinity");if(a=Math.floor(a),0==b.length||0==a)return"";if(b.length*a>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var c="";1==(1&a)&&(c+=b),a>>>=1,0!=a;)b+=b;return c});var b=function(b){var c=a("#"+b);this.id=b,this.input=null,this.unmaskinput=null,this.input=c,this.unmaskinput=a("#"+b+"unmask"),this.wrap=this.input.parent(".wrap");var d=a('<input type="text" value="" class="inputmask" />');this.input.attr("readonly")&&d.attr("readonly","readonly"),d.insertBefore("#"+b),this.mask=this.wrap.find(".inputmask"),this.updateMask(),this.mask.focus(function(a){c.focus()}),this.unmaskinput.change(a.proxy(this.unmask,this)),this.input.keyup(a.proxy(this.updateMask,this)),this.input.mouseup()};return b.prototype.toString=function(){return"[object PasswordUnmask]"},b.prototype.updateMask=function(){this.mask.val("‚óè".repeat(this.input.val().length))},b.prototype.unmask=function(){this.unmaskinput.is(":checked")?this.input.parents(".totara_passwordunmask").addClass("unmask-password"):this.input.parents(".totara_passwordunmask").removeClass("unmask-password")},b});