define(["jquery","core/templates"],function(a,b){var c={init:function(c){function d(a){a.preventDefault();var b=!f.hasClass("hidden");M.util.set_user_preference(c.preference,b),b?(f.addClass("hidden"),f.find(".block-hider-show").focus()):(f.removeClass("hidden"),f.find(".block-hider-hide").focus())}function e(a){a.preventDefault(),13==a.keyCode&&d(this)}var f=a("#"+c.id),g=f.find(".title"),h=f.find(".block_action"),i=h.data("collapsible");g&&h&&i&&(b.renderIcon("block-hide",c.tooltipVisible).done(function(b){var f=a('<a href="#" title="'+c.tooltipVisible+'" class="block-hider-hide">'+b+"</a>");f.click(d),f.keypress(e),h.append(f)}),b.renderIcon("block-show",c.tooltipHidden).done(function(b){var f=a('<a href="#" title="'+c.tooltipHidden+'" class="block-hider-show">'+b+"</a>");f.click(d),f.keypress(e),h.append(f)}))}};return c});