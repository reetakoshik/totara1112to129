define(["core/str"],function(a){var b={success:function(a){a.responseJSON&&a.responseJSON.error&&YUI().use("moodle-core-notification-ajaxexception",function(){return new M.core.ajaxException(a.responseJSON).show()})},error:function(b,c){if("abort"!==b.statusText&&(0!==b.status||0!==b.readyState||"error"!==b.statusText)){var d=[];d.push({key:"accessdenied",component:"admin"}),d.push({key:"resourcenotfound",component:"admin"}),d.push({key:"unknownerror",component:"core"}),a.get_strings(d).done(function(a){for(var e=[],f=0;f<d.length;f++)e[d[f].key]=a[f];var g={debugginginfo:"",error:"",reproductionlink:"",stacktrace:""};b.hasOwnProperty("status")&&403===b.status?g.error=e.accessdenied:b.hasOwnProperty("status")&&404===b.status?g.error=e.resourcenotfound:g.error=e.unknownerror,c.hasOwnProperty("url")&&"string"==typeof c.url&&(g.reproductionlink=c.url),b.hasOwnProperty("stacktrace")&&"string"==typeof b.stacktrace&&(g.stacktrace=c.stacktrace),YUI().use("moodle-core-notification-ajaxexception",function(){return new M.core.ajaxException(g).show()})})}}};return b});