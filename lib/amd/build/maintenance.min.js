define(["jquery","core/str","core/templates"],function(a,b,c){var d=0,e=a(".maintenancewarning"),f=function(){d-=1;var f="",g={};d<=0?f="sitemaintenance":(g.sec=d%60,g.min=Math.floor(d/60)%60,g.hour=Math.floor(d/3600),f=g.hour>0?"maintenancemodeisscheduledlong":"maintenancemodeisscheduled"),b.get_string(f,"admin",g).then(function(a){var b="notification_warning";return d<30&&(b="notification_error"),c.render("core/"+b,{message:a,extraclasses:"maintenancewarning"})}).then(function(b){e=a(".maintenancewarning"),e.length>0&&(e.replaceWith(b),a(".maintenancewarning").attr("aria-live","polite"))})};return{init:function(a){e&&(d=a,e.attr("aria-live","polite"),setInterval(f,1e3))}}});