{{!
   This file is part of Totara LMS

   Copyright (C) 2017 onwards Totara Learning Solutions LTD

   This program is free software; you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation; either version 3 of the License, or
   (at your option) any later version.

   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See  the
   GNU General Public License for more details.

   You should have received a copy of the GNU General Public License
   along with this program.  If not, see <http://www.gnu.org/licenses/>.

   @author Andrew McGhie <andrew.mcghie@totaralearning.com>
   @package block_totara_featured_links
}}
{{!

    @template block_totara_featured_links/element_icon_picker

    This contains the elements that go into the form for the icon picker.
    It makes a button to show the icon dialog, and if an icon is choosen then
    displays the icon and a way to clear the icon.

    Classes required for JS:
     * none

    Data attributes required for JS:
     * none

    Context variables required for this template:
     * id: The id that the elements should use
     * value: the identifier of the flex icon to show
     * valid: if the identifier is a valid flex icon
     * name: the name of the field that will get used when its submitted

    Other context variables for following partials:
     * none

    Example context (json):
      {
          "id": "icon_picker",
          "value": "core|cog",
          "valid": "true",
          "name": "background_icon"
      }
}}
<div class="tf_element">
    <div class="tf_element_input">
        {{> totara_form/validation_errors}}
        <span id="{{id}}_icon" class="icon-picker-icon-display">
            {{#value}}
                {{#valid}}
                    {{#context}}
                        {{> &&template}}
                    {{/context}}
                {{/valid}}
                {{^valid}}
                    <span class="icon-picker-invalid">
                        {{#str}}icon_invalid, block_totara_featured_links{{/str}}
                    </span>
                {{/valid}}
            {{/value}}
        </span>
        <span class="icon-picker-delete-icon {{^value}}hidden{{/value}}" id="{{id}}_delete">
            {{#str}}icon_delete, block_totara_featured_links{{/str}}
        </span><span id="show-iconPicker-dialog" class="btn btn-default">
            {{#value}}
                {{#str}}icon_change, block_totara_featured_links{{/str}}
            {{/value}}
            {{^value}}
                {{#str}}icon_choose, block_totara_featured_links{{/str}}
            {{/value}}
        </span>
        <input type="hidden" id="{{id}}" name="{{name}}" {{#value}}value="{{value.context.identifier}}"{{/value}}>
    </div>
</div>