YUI.add("moodle-local_kaltura-ltitinymcepanel",function(e,t){var i=function(){i.superclass.constructor.apply(this,arguments)};e.extend(i,e.Base,{contextid:0,init:function(t){return""===t.insertbtnid||""===t.ltilaunchurl||""===t.objecttagheight||""===t.objecttagid||""===t.previewiframeid?void alert("Some parameters were not initialized."):(this.load_lti_content(t.ltilaunchurl,t.objecttagid,t.objecttagheight),e.one("#"+t.insertbtnid).set("disabled",!0),e.one("#closeltipanel").on("click",this.user_selected_video_callback,this,t.insertbtnid,t.objecttagid,t.previewiframeid,t.objecttagheight),void(null!==e.one("#page-footer")&&e.one("#page-footer").setStyle("display","none")))},load_lti_content:function(t,i,n){0===this.contextid&&(this.contextid=e.one("#lti_launch_context_id").get("value"));var a='<iframe id="lti_view_element" height="'+n+'px" width="100%" src="'+t+"&amp;contextid="+this.contextid+'"></iframe>';e.one("#"+i).setContent(a)},user_selected_video_callback:function(t,i,n,a,l){e.one("#"+i).setStyle("display","inline"),e.one("#"+i).set("disabled",!1),e.one("#"+n).setContent("");var o=e.Node.create("<center></center>"),r=e.Node.create("<iframe></iframe>");r.setAttribute("allowfullscreen",""),r.setAttribute("width",e.one("#width").get("value")+"px"),r.setAttribute("height",l+"px"),r.setAttribute("src",e.one("#video_preview_frame").getAttribute("src")),o.append(r),e.one("#"+a).append(o)}},{NAME:"moodle-local_kaltura-ltitinymcepanel",ATTRS:{insertbtnid:{value:""},ltilaunchurl:{value:""},objecttagheight:{value:""},objecttagid:{value:""},previewiframeid:{value:""}}}),M.local_kaltura=M.local_kaltura||{},M.local_kaltura.init=function(e){return new i(e)}},"@VERSION@",{requires:["base","node","panel","node-event-simulate"]});