define(["jquery","core/yui","core/str","core/config"],function(a,b,c,d){var e={init:function(b){this.attachCustomClickEvents=function(){a("a.attendee-edit-job-assignment").on("click",function(){return a.get(a(this).attr("href"),function(a){e.editJobAssignmentModalForm(a)}),!1})},this.attachCustomClickEvents()},editJobAssignmentModalForm:function(c){b.use("panel",function(b){var d=new b.Panel({headerContent:null,bodyContent:c,width:600,zIndex:5,centered:!0,modal:!0,render:!0}),e=a("#"+d.get("id"));e.find('input[type="text"]').eq(0).focus(),e.find("#id_submitbutton").on("click",function(){var b=e.find("form.mform"),c=b.serialize();return c+="&submitbutton="+a(this).attr("value"),a.post(b.attr("action"),c).done(function(b){if("success"==b.result){var c="#jobassign"+b.id;a(c).html(b.jobassignmentdisplayname),d.destroy(!0)}else a("#attendee_job_assignment_err").text(b.error)}),!1}),e.find("#id_cancel").on("click",function(){return d.destroy(!0),!1}),d.show()})}};return e});