define(["jquery","core/notification","core/str"],function(a,b,c){var d={confirm:function(d){d.preventDefault(),c.get_strings([{key:"confirm",component:"moodle"},{key:"postingwillunlock",component:"mod_forum"},{key:"yes",component:"moodle"},{key:"no",component:"moodle"}]).done(function(c){b.confirm(c[0],c[1],c[2],c[3],a.proxy(function(){window.onbeforeunload=null,a("#mformforum").submit()}))})},setup:function(){a("body").delegate("#mformforum #id_submitbutton","click",d.confirm)}};return{setup:d.setup}});