define([],function(){function a(){return this instanceof a?(this.activeClass="tw-catalog__activePopover",void(this.widget="")):new a}a.prototype={copyToClipboard:function(){var a=this.widget.querySelector("[data-tw-catalogResultsShare_url]");a.select(),document.execCommand("copy")},displayURL:function(){var a=this.widget.querySelector("[data-tw-catalogResultsShare_url]"),b=window.location.href;a.setAttribute("value",b)},events:function(){var a=this;this.widget.addEventListener("click",function(b){if(b.target&&!b.target.closest("label"))if(b.preventDefault(),b.target.closest("[data-tw-catalogResultsShare_btn]")){a.displayURL(),a.toggleUI();var c=a.widget.querySelector("[data-tw-catalogresultsshare_expanded]");c.getBoundingClientRect().top<0&&c.scrollIntoView({block:"start"})}else b.target.closest("[data-tw-catalogresultsshare_close]")?a.toggleUI():b.target.closest("[data-tw-catalogResultsShare_expanded_btn]")&&a.copyToClipboard()})},setParent:function(a){this.widget=a},toggleUI:function(){this.widget.classList.toggle(this.activeClass)},triggerEvent:function(a,b){var c=new CustomEvent("catalog/results_share:"+a,{bubbles:!0,detail:b});this.widget.dispatchEvent(c)}};var b=function(b){return new Promise(function(c){var d=new a;d.setParent(b),d.events(),c(d)})};return{init:b}});