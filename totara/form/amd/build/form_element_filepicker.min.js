define(["jquery","core/yui","totara_form/form"],function(a,b,c){function d(a,b,e,f){return this instanceof d?(c.Element.apply(this,arguments),void(this.input=null)):new d(a,b,e,f)}return d.prototype=Object.create(c.Element.prototype),d.prototype.constructor=d,d.prototype.toString=function(){return"[object FilePickerElement]"},d.prototype.init=function(b){this.input=a("#"+this.id);var d={};try{d=this.input.data("fpoptions")}catch(e){throw c.debug("Failed to pick up FilePicker options from data attribute.",this,c.LOGLEVEL.error),e}return""===d?(c.debug("FilePicker initialisation skipped as it was frozen.",this,c.LOGLEVEL.error),void b()):void require(["totara_form/element_filepicker"],function(a){a.init_filepicker(d),b()})},d});