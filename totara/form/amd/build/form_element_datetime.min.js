define(["jquery","totara_form/form"],function(a,b){function c(a,d,e,f){return this instanceof c?(b.Element.apply(this,arguments),void(this.input=null)):new c(a,d,e,f)}return c.prototype=Object.create(b.Element.prototype),c.prototype.constructor=c,c.prototype.toString=function(){return"[object DateTimeElement]"},c.prototype.init=function(b){var c=this.id,d=[];if(this.input=a("#"+c),this.input.change(a.proxy(this.changed,this)),!/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)){this.input.attr("type","text");var e=a.Deferred();d.push(e),require(["totara_form/polyfill_date-lazy"],function(a){a.init(c,!0).then(function(){e.resolve()})})}a.when.apply(a,d).done(b)},c.prototype.getValue=function(){return this.input.val()},c});