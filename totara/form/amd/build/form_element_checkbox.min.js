define(["jquery","totara_form/form"],function(a,b){function c(a,d,e,f){return this instanceof c?(b.Element.apply(this,arguments),void(this.input=null)):new c(a,d,e,f)}var d="totara_form-error-container",e="."+d,f=".tf_element",g=".tf_loading";return c.prototype=Object.create(b.Element.prototype),c.prototype.constructor=c,c.prototype.toString=function(){return"[object CheckboxElement]"},c.prototype.init=function(b){var c=a("#"+this.id);this.input=c,this.input.change(a.proxy(this.changed,this)),b()},c.prototype.getValue=function(){return this.input.is(":checked")?this.input.val():this.input.data("value-unchecked")},c.prototype.polyFillValidate=function(a){var b=this.input;b.prop("checked")?""!==b.val().trim()&&b.closest(f).find(e).remove():(a.preventDefault(),0===b.closest(f).find(e).length&&require(["core/templates","core/str","core/config"],function(a,c,d){c.get_string("required","core").done(function(c){var e={errors_has_items:!0,errors:[{message:c}]};a.render("totara_form/validation_errors",e,d.theme).done(function(a){b.parent().prepend(a)})})}))},c.prototype.showLoading=function(){this.input.siblings(g).show()},c.prototype.hideLoading=function(){this.siblings(g).hide()},c});