define(["jquery","totara_form/form","totara_form/modernizr"],function(a,b,c){function d(a,c,e,f){return this instanceof d?(b.Element.apply(this,arguments),void(this.input=null)):new d(a,c,e,f)}return d.prototype=Object.create(b.Element.prototype),d.prototype.constructor=d,d.prototype.toString=function(){return"[object UTC10Date]"},d.prototype.init=function(b){var d=this.id,e=[];if(this.input=a("#"+d),this.input.change(a.proxy(this.changed,this)),this.input.attr("required")&&!c.input.required){var f=a.Deferred();e.push(f),require(["totara_form/polyfill_required-lazy"],function(a){a.init(d),f.resolve()})}if(!/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)){this.input.attr("type","text");var g=a.Deferred();e.push(g),require(["totara_form/polyfill_date-lazy"],function(a){a.init(d,!1).done(function(){g.resolve()})})}if(this.input.attr("placeholder")&&!c.input.placeholder){var h=a.Deferred();e.push(h),require(["totara_form/polyfill_placeholder-lazy"],function(a){a.init(d),h.resolve()})}a.when.apply(a,e).done(b)},d.prototype.getValue=function(){return this.input.val()},d});