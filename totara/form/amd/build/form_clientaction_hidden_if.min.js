define(["totara_form/form","totara_form/clientaction_base"],function(a,b){var c=function(){this.comparisons=[],b.apply(this,arguments)};return c=a.extend(b,c,{init:function(){var b,d;if(this.actionconfig.comparisons)for(b in this.actionconfig.comparisons)this.actionconfig.comparisons.hasOwnProperty(b)&&(d=this.actionconfig.comparisons[b],this.watchedIds.push(d.element),d.element=this.form.getElementById(d.element),this.comparisons.push(d));a.debug("Registered HiddenIf with "+this.comparisons.length+" comparisons",c,a.LOGLEVEL.debug)},enforce:function(){a.debug("Enforcing HiddenIf rule on #"+this.target.getId(),this,a.LOGLEVEL.info),this.target.setHidden(!0)},cease:function(){a.debug("Ceasing enforcement of HiddenIf rule on #"+this.target.getId(),this,a.LOGLEVEL.info),this.target.setHidden(!1)},checkState:function(){var a,b,c,d,e=this.getCurrentState(),f=!1;for(a in this.comparisons)if(this.comparisons.hasOwnProperty(a)&&(b=this.comparisons[a],c=[b.operator].concat(b.options),d=b.element.compare.apply(b.element,c),d===!0)){f=!0;break}f?e||this.enforce():e&&this.cease()},getCurrentState:function(){return this.target.isHidden()}}),{init:function(a,b,d){var e=new c(a,b);e.init(),d(e)}}});