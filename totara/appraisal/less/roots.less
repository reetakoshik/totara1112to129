//
// This file is part of Totara LMS
//
// Copyright (C) 2017 onwards Totara Learning Solutions LTD
//
// This program is free software; you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by
// the Free Software Foundation; either version 3 of the License, or
// (at your option) any later version.
//
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with this program.  If not, see <http://www.gnu.org/licenses/>.
//
// @copyright 2016 onwards Totara Learning Solutions LTD
// @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
// @author    Brian Barnes <brian.barnes@totaralearning.com>
// @package   totara_appraisal

@padding-small-horizontal: 10px;
@padding-small-vertical: 5px;
@padding-large-vertical: 10px;
@gray-light: #6e6e6e;

div.appraisal-content {
    padding-left: 1em;
}

div.appraisal-content .fitem.fitem_fgroup select {
    display: inline-block;
}

div.appraisal-content .mform .fitem .felement {
    padding: 0;
}

.appraisal-title {
    float: none;
}

.appraisal-headerbuttons input[type="button"] {
    margin-left: @padding-small-horizontal;
}

.appraisal-stage {
    clear: both;
}

.path-totara-appraisal .fcontainer {
    padding-left: @padding-small-horizontal * 3;

    .fstaticlabel a {
        margin-right: @padding-small-horizontal;
    }

    .felement.fstatic {
        padding-top: @padding-small-vertical * 1.5;
    }

    .action-icon.delete {
        float: left;
        margin-right: @padding-small-horizontal / 2;
    }
}

#page-totara-appraisal-snapshot {
    .collapsible-actions,
    .visibleto,
    .visibleto-review,
    .skiplinks {
        display: none;
    }
}

.addoptionlink {
    display: none;
}

#appraisalstagecontainer {
    margin-top: 10px;
}

.appraisal-page-pane {
    float: left;
    max-width: 340px;
}

.appraisal-content {
    margin-left: 339px;
    border: 1px solid #eee;
    min-height: 200px;
    background-color: #fff;
}

#appraisal-questions p {
    margin: 10px 0;
}

div.appraisal-content fieldset {
    margin: 0;
    padding: 0;
}

div.appraisal-content .fitem {
    display: none;
}

div.appraisal-content .fitem.fitem_fgroup {
    display: block;
    margin: 0;
    padding: 0;
}

#fgroup_id_addquestgroup:after {
    clear: none;
}

.appraisal-page-container .appraisal-page-list,
.appraisal-page-container .appraisal-quest-list {
    list-style-type: none;
    margin: 0;
    padding: 0;
    margin-bottom: 0.5em;
    background-color: white;
    border-top: 1px solid #eee;
    border-bottom: 1px solid #eee;
}
.appraisal-page-list {
    border-left: 1px solid #eee;
}

ul.appraisal-quest-list {
    border: none;
}

ul.appraisal-page-list li,
.yui3-dd-proxy {
    width: 339px;
    padding: 6px;
}

ul.appraisal-quest-list li {
    padding: 6px;
}

ul.appraisal-page-list a.appraisal-page-list-name,
ul.appraisal-quest-list a.appraisal-quest-list-name {
    max-width: 250px;
    overflow: hidden;
    display: inline-block;
}

.appraisal-page-actions,
.appraisal-quest-actions {
    float: right;
}

.appraisal-stages .lastcol {
    text-align: right;
}

table.appraisal-stages tr,
ul.appraisal-page-list li,
ul.appraisal-quest-list li {
    background-color: #ffffff;
    -webkit-transition: background-color 250ms linear;
    -moz-transition: background-color 250ms linear;
    -ms-transition: background-color 250ms linear;
    -o-transition: background-color 250ms linear;
    transition: background-color 250ms linear;
}

table.appraisal-stages tr:hover,
ul.appraisal-page-list li:hover,
ul.appraisal-quest-list li:hover {
    background-color: #f5f5f5;
    -webkit-transition: background-color 100ms linear;
    -moz-transition: background-color 100ms linear;
    -ms-transition: background-color 100ms linear;
    -o-transition: background-color 100ms linear;
    transition: background-color 100ms linear;
}

table.appraisal-stages tr.selected,
ul.appraisal-page-list li.selected,
ul.appraisal-quest-list li.selected {
    background-color: #e6e6e6;
    -webkit-transition: background-color 100ms linear;
    -moz-transition: background-color 100ms linear;
    -ms-transition: background-color 100ms linear;
    -o-transition: background-color 100ms linear;
    transition: background-color 100ms linear;
}

body.jsenabled .js-hide,
.js-show,
.js-show-inline {
    display: none;
}

body.jsenabled .js-show {
    display: block;
}

body.jsenabled .js-show-inline {
    display: inline;
}

table.role_matrix td.cell {
    padding: 0 .5em;
}
table.role_matrix td.cell div.fitem {
    padding-bottom: 0;
    margin-bottom: 0;
}
table.role_matrix td.cell div.felement {
    float: none;
}

table.role_matrix td div.fitem div.fitemtitle {
    width: 0;
}

.appraisal-previewer {
    float: right;
}

li.yui3-dd-draggable {
    cursor: move;
}

.move-target {
    background-color: #ddffd6 !important;
}

/* modal dialogs */
.path-admin-totara-appraisal.yui3-skin-sam .yui3-panel-content,
.path-totara-appraisal.yui3-skin-sam .yui3-panel-content {
    border: none;
    -webkit-border-radius: 5px;
    border-radius: 5px;
}

.path-admin-totara-appraisal.yui3-skin-sam .yui3-panel-content .yui3-widget-hd,
.path-totara-appraisal.yui3-skin-sam .yui3-panel-content .yui3-widget-hd {
    background: #f5f5f5;
    color: #444444;
    font-weight: bold;
}

.path-admin-totara-appraisal.yui3-skin-sam .yui3-panel-content .yui3-widget-hd,
.path-admin-totara-appraisal.yui3-skin-sam .yui3-panel-content .yui3-widget-bd,
.path-totara-appraisal.yui3-skin-sam .yui3-panel-content .yui3-widget-hd,
.path-totara-appraisal.yui3-skin-sam .yui3-panel-content .yui3-widget-bd {
    -webkit-border-top-left-radius: 5px;
    -webkit-border-top-right-radius: 5px;
    border-top-left-radius: 5px;
    border-top-right-radius: 5px;
}

.path-admin-totara-appraisal.yui3-skin-sam .yui3-panel .yui3-widget-ft,
.path-totara-appraisal.yui3-skin-sam .yui3-panel .yui3-widget-ft {
    background: none;
}

.appraisal-stage {
    width: auto;
    margin: 1em 0;
    border: 1px solid #444444;
    padding: 10px;
    -moz-border-radius: 4px 4px 4px 4px;
    -webkit-border-radius: 4px 4px 4px 4px;
    -o-border-radius: 4px 4px 4px 4px;
    border-radius: 4px 4px 4px 4px;
    overflow: hidden;
    position: relative;
    min-height: 100px;
}
.appraisal-stage > div {
    display: block;
    float: left;
}

.appraisal-stage {
    background: #f5f5f5;
}

.appraisal-headerbuttons {
    float: right;
    overflow: hidden;
}

.appraisal-stagelist {
    clear: both;
    margin: 15px 0;
}

.appraisal-stagetitle {
    width: 19%;
}

.appraisal-stageinfo {
    width: 51%;
    margin: 0 1%;
}

.appraisal-stageinfo p {
    margin: 0;
}

.appraisal-stageinfo h4 + p {
    margin-bottom: 10px;
}

.appraisal-stageactions {
    width: 14%;
}

.appraisal-stageactions > * {
    float: right;
}

.appraisal-stageactions .btn {
    display: inline-block;
    margin: 5px;
    padding: 4px 0;
    width: 118px;
    text-align: center;
}

.appraisal-stageactions input[type="submit"] {
    width: 120px;
}

.appraisal-stage .appraisal-stagestate {
    width: 14%;
    text-align: center;
    float: right;
    margin-top: 20px;

    .flex-icon {
        font-size: 40px;
        width: 100%;
        display: block;
    }

    .appraisal-statetext {
        font-size: 20px;
        display: block;
    }
}

input[type=text] {
    max-width: 335px;
}

input[type=text].appraisal-event-time {
    width: 5em;
}

input[type=text].appraisal-event-title,
textarea.appraisal-event-body {
    width: 30em;
}

textarea.appraisal-event-body {
    height: 15em;
}

.viewing-xs-appraisal {
    margin-bottom: 0;
}

.path-totara-appraisal div.plan_box {
    margin-top: 0;
}

.path-totara-appraisal div.plan_box .invisiblepadded td {
    padding-top: 0;
    padding-bottom: 0;
}

.path-totara-appraisal div.plan_box img {
    display: block;
}

#appraisalanswers1 div.fcontainer > div.fitem {
    min-height: 35px;
}

form.print-stages-form .fitem .felement,
form.print-stages-form .fitem .fitemtitle {
    width: 100%;
}

#fgroup_stages-list fieldset.fgroup {
    margin-top: 3pt;
}
#fgroup_stages-list fieldset span {
    margin-left: 5pt;
}

.fwhitespace {
    height: 48pt;
}

#savepdf.yui-isloading {
    background-image: url([[pix:i/loading]]);
    background-repeat: no-repeat;
    background-position: center;
}

#assignedgroups {
    padding-top: 1em;
}

#assignedusers .dataTables_length {
    padding-bottom: 1em;
}

#assignedusers td.sorting_1 {
    background-color: inherit;
}

.appraisal-usermessage {
    display: block;
}

@media print {
    .visibleto {
        display: none;
    }

    .visibleto-review {
        display: none;
    }

    .skiplinks {
        display: none;
    }
}

.appraisal-stage {
    margin: 10px 0;
    page-break-inside: avoid;
}

.redisplay-notification-nomargin .notifyproblem {
    margin: 0 !important;
}
#preview-appraisal-notification {
    min-height: 115px;
}
.update_assignment_records {
    margin-top: -5px;
    float: right;
}

.plan_box a {
    text-decoration: none;
}

.appraisal-usermessage .flex-icon:after {
    content: " ";
}

.appraisal-disabled {
    color: @gray-light;

    &:after {
        content: " ";
    }
}

.appraisal-stage-inprogress {
    background: #fdf8e4;
}

@media (max-width: 768px) {

    .appraisal-stage {
        padding: 3.2rem 10px 10px;
    }

    .appraisal-stage .appraisal-stagestate {
        display: inline-block;
        float: none;
        margin: 0;
        position: absolute;
        right: .8rem;
        text-align: right;
        top: .4rem;
        width: 100%;

        .appraisal-statetext {
            display: inline-block;
            padding: 0 .8rem;
        }

        .flex-icon {
            float: right;
            font-size: 1.9em;
            width: auto;

            &.ft-spacer {
                width: 0;
            }
        }
    }

    .appraisal-stage .appraisal-stageactions {
        clear: both;
        float: none;
        text-align: right;
        width: 100%;

        .singlebutton {
            margin: .8rem 0 0;
        }
    }

    .appraisal-stageinfo {
        width: 68%;
    }

    .appraisal-stagetitle {
        width: 30%;
        word-wrap: break-word;
    }
}
