define(["jquery","core/config","core/str"],function(a,b,c){var d=function(){var d=[];d.push({key:"ok",component:"moodle"}),d.push({key:"cachenow_title",component:"totara_reportbuilder"}),c.get_strings(d).done(function(c){for(var e=[],f=0;f<d.length;f++)e[d[f].key]=c[f];var g=new totaraDialog_handler,h={};a(".show-cachenow-dialog").css("display","inline"),a(".show-cachenow-dialog").each(function(c,d){var f=a(d).data("id"),i=b.wwwroot+"/totara/reportbuilder/ajax/cachenow.php?reportid="+f,j="cachenow";h[e.ok]=function(){g._cancel()},totaraDialogs[j]=new totaraDialog(j,a(d).attr("id"),{buttons:h,title:"<h2>"+e.cachenow_title+"</h2>",width:"500",height:"200",dialogClass:"totara-dialog notifynotice"},i,g),a("#show-cachenow-dialog-"+f).on("click",function(){a("#cachenotice_"+f).css("display","none")})})})};return{init:function(){window.dialogsInited?d():(a.isArray(window.dialoginits)||(window.dialoginits=[]),window.dialoginits.push(d))}}});