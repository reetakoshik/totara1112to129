define([],function(){function a(){return this instanceof a?void(this.widget=""):new a}a.prototype={bubbledEventsListener:function(){var a="totara_core/select_multi",b="totara_core/select_search_text",c="totara_core/select_tree",d=this;this.widget.addEventListener(a+":add",function(a){d.triggerEvent("add",a.detail)}),this.widget.addEventListener(b+":add",function(a){d.triggerEvent("add",a.detail)}),this.widget.addEventListener(c+":add",function(a){d.triggerEvent("add",a.detail)}),this.widget.addEventListener(a+":changed",function(){d.triggerEvent("changed",{})}),this.widget.addEventListener(b+":changed",function(){d.triggerEvent("changed",{})}),this.widget.addEventListener(c+":changed",function(){d.triggerEvent("changed",{})}),this.widget.addEventListener(a+":remove",function(a){d.triggerEvent("remove",a.detail)}),this.widget.addEventListener(b+":remove",function(a){d.triggerEvent("remove",a.detail)}),this.widget.addEventListener(c+":remove",function(a){d.triggerEvent("remove",a.detail)})},setParent:function(a){this.widget=a},triggerEvent:function(a,b){var c=new CustomEvent("totara_core/select_region_primary:"+a,{bubbles:!0,detail:b});this.widget.dispatchEvent(c)}};var b=function(b){return new Promise(function(c){var d=new a;d.setParent(b),d.bubbledEventsListener(),c(d)})};return{init:b}});