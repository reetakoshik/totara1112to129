define(["core/str","core/popover_region_controller"],function(a,b){function c(a){b.call(this,a),this.element=a}function d(a){return new Promise(function(b){var d=new c(a);d.setupEvents(),b(d)})}return c.prototype=Object.create(b.prototype),c.prototype.updateButtonAriaLabel=function(){this.isMenuOpen()?a.get_string("quickaccessmenu:hidemenuwindow","totara_core").done(function(a){this.isMenuOpen()&&this.menuToggle.attr("aria-label",a)}.bind(this)):a.get_string("quickaccessmenu:showmenuwindow","totara_core").done(function(a){this.isMenuOpen()===!1&&this.menuToggle.attr("aria-label",a)}.bind(this))},c.prototype.setupEvents=function(){var a=this;this.element.querySelector("[data-quickaccessmenu-close-menu]").addEventListener("click",function(b){return b.preventDefault(),a.closeMenu(),!1}),"complete"===document.readyState?a.checkLocation():window.addEventListener("load",a.checkLocation.bind(a))},c.prototype.checkLocation=function(){var a=this.element.querySelector("#quickaccess-popover-content"),b=a.getBoundingClientRect();b.left<0||b.right>window.innerWidth?a.classList.add("totara_core__QuickAccess_menu--large"):a.classList.remove("totara_core__QuickAccess_menu--large")},{init:d}});